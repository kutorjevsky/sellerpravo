// script.js
(() => {
  const data = {
    penalties: {
      title: "Штрафы и претензии площадки",
      note: "Покажем, где регламент площадки, а где можно спорить.",
      step: "Экспресс-анализ документов и формулировка позиции под регламент площадки.",
      need: [
        "уведомление о штрафе или претензии (скрин или письмо)",
        "карточка товара и история изменений",
        "переписка с поддержкой",
        "документы по поставке и сертификация (если есть)"
      ],
      time: "обычно 1–3 рабочих дня до первого результата",
      budget: "от 15 000 ₽ (зависит от объёма материалов)"
    },
    holds: {
      title: "Удержания и взаиморасчёты",
      note: "Разберём расчёты и соберём позицию для возврата удержаний.",
      step: "Анализ взаиморасчётов, оснований удержаний и доказательственной базы.",
      need: [
        "отчёты и акты (если есть), расшифровка удержаний",
        "скриншоты из кабинета с суммами и датами",
        "переписка с поддержкой",
        "договоры и документы по поставке (если удержание связано с товаром)"
      ],
      time: "обычно 2–5 рабочих дней до претензии/позиции",
      budget: "от 25 000 ₽ (зависит от количества периодов и операций)"
    },
    blocks: {
      title: "Блокировка кабинета или карточек",
      note: "Фиксируем основания, собираем доказательства, выстраиваем правильную коммуникацию.",
      step: "Сбор фактов, фиксация доказательств и подготовка обращений по регламенту площадки.",
      need: [
        "скриншоты блокировки и формулировка причины",
        "история обращений в поддержку",
        "данные по карточке товара (если блокировка карточки)",
        "документы по качеству/сертификации (если применимо)"
      ],
      time: "обычно 1–4 дня на первую итерацию обращений",
      budget: "от 20 000 ₽ (сильно зависит от срочности)"
    },
    returns: {
      title: "Возвраты, подмены, споры",
      note: "Собираем доказательства так, чтобы их нельзя было «смахнуть» одной фразой.",
      step: "Разбор регламента + доказательства по каждой спорной операции, актирование и позиция.",
      need: [
        "перечень спорных возвратов (ID, даты, суммы)",
        "фото и видео, акты, упаковка, маркировка (если есть)",
        "переписка с поддержкой",
        "документы по товару и отгрузке"
      ],
      time: "обычно 3–7 дней на пакет по группе операций",
      budget: "от 30 000 ₽ (зависит от количества эпизодов)"
    },
    tm: {
      title: "Товарные знаки и контент",
      note: "Оцениваем основания претензии и выбираем: спорить, договариваться или перестраивать карточку.",
      step: "Проверка прав, анализ сходства и состава нарушений, подготовка ответа и переговорного пакета.",
      need: [
        "текст претензии и приложения",
        "ссылки на карточки товара и изображения",
        "документы о происхождении товара (если есть)",
        "переписка/уведомления от площадки"
      ],
      time: "обычно 2–6 дней до первой позиции/ответа",
      budget: "от 35 000 ₽ (зависит от объёма и срочности)"
    },
    supply: {
      title: "Поставщик, логистика, неисполнение",
      note: "Нормальная гражданка: сроки, качество, убытки, расчёты, претензия, суд.",
      step: "Разбор договора, фактов неисполнения и расчётов. Подготовка претензии и пакета доказательств.",
      need: [
        "договор/переписка, счета, накладные",
        "факты нарушения (сроки, качество, недопоставка)",
        "расчёт убытков (если есть) или исходные данные",
        "претензии, если уже направлялись"
      ],
      time: "обычно 3–10 дней до претензии (по сложности)",
      budget: "от 40 000 ₽ (зависит от объёма и суммы спора)"
    },
    criminal: {
      title: "Уголовно-правовой риск",
      note: "Даём квалификацию и план: что фиксировать, куда обращаться и чего не делать.",
      step: "Юридическая оценка + стратегия: заявление, доказательства, защита интересов.",
      need: [
        "описание фактов и документов по событиям",
        "переписка, платежи, реквизиты",
        "лица, компании, ссылки на карточки/аккаунты",
        "что уже сделано и какие есть риски"
      ],
      time: "обычно 1–5 дней на оценку и пакет",
      budget: "от 50 000 ₽ (зависит от ситуации и объёма действий)"
    }
  };

  const chips = Array.from(document.querySelectorAll(".chip"));
  const titleEl = document.getElementById("specTitle");
  const noteEl = document.getElementById("specNote");
  const stepEl = document.getElementById("specStep");
  const needEl = document.getElementById("specNeed");
  const timeEl = document.getElementById("specTime");
  const budgetEl = document.getElementById("specBudget");
  const cta = document.getElementById("primaryCta");

  function render(key){
    const s = data[key];
    if(!s) return;

    titleEl.textContent = s.title;
    noteEl.textContent = s.note;
    stepEl.textContent = s.step;
    timeEl.textContent = s.time;
    budgetEl.textContent = s.budget;

    needEl.innerHTML = "";
    s.need.forEach(item => {
      const li = document.createElement("li");
      li.textContent = item;
      needEl.appendChild(li);
    });

    // Slightly smarter CTA text per scenario
    const ctaMap = {
      penalties: "Получить план по штрафу",
      holds: "Получить план по удержаниям",
      blocks: "Разобрать блокировку",
      returns: "Разобрать спор по возвратам",
      tm: "Ответить на претензию по ТЗ",
      supply: "Подготовить претензию контрагенту",
      criminal: "Получить уголовную оценку"
    };
    cta.textContent = ctaMap[key] || "Получить план действий";
  }

  chips.forEach(btn => {
    btn.addEventListener("click", () => {
      chips.forEach(b => b.classList.remove("is-active"));
      btn.classList.add("is-active");
      render(btn.dataset.scenario);
    });
  });

  // Initial state
  render("penalties");
})();
